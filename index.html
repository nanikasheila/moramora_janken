<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Moramora Janken</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@500;600&family=M+PLUS+Rounded+1c:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/animations.css">
  <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
  <!-- SVG marble distortion filter -->
  <svg width="0" height="0" style="position:absolute" aria-hidden="true">
    <defs>
      <filter id="marble-distortion" x="0%" y="0%" width="100%" height="100%">
        <feTurbulence
          type="fractalNoise"
          baseFrequency="0.008 0.01"
          numOctaves="2"
          seed="42"
          result="noise"
        />
        <feGaussianBlur
          in="noise"
          stdDeviation="5"
          result="blurred"
        />
        <feDisplacementMap
          in="SourceGraphic"
          in2="blurred"
          scale="160"
          xChannelSelector="R"
          yChannelSelector="G"
        />
      </filter>
    </defs>
  </svg>

  <!-- Why: filter and rotation must be on separate elements
       How: .bg-layer is fixed and applies the SVG distortion filter;
            .bg-image inside it rotates the image independently -->
  <div class="bg-layer" aria-hidden="true">
    <div class="bg-image"></div>
  </div>

  <div class="vs-overlay" id="vs-overlay">VS</div>
  <div class="page">
    
    <header class="hero">
      <div class="eyebrow">Moramora mini game</div>
      <h1>モラモラじゃんけん！</h1>
    </header>

    <main class="layout">
      <section class="character-card">
        <div class="frame" id="character-frame">
          <img src="assets/base.png" alt="ベースイラスト" class="layer base" id="base-layer">
          <img src="assets/usa.png" alt="マスコット" class="layer mascot" id="mascot-layer" loading="lazy">
          <img src="assets/expression_01.png" alt="表情" class="layer expression" id="expression-layer" loading="lazy">
          <img src="assets/Scissors.png" alt="手" class="layer hand is-hidden" id="hand-layer" loading="lazy">
        </div>
        <div class="announcer">
          <div class="status-pill" id="status-pill">シャッフル中</div>
          <div class="announcer-body">
            <div class="speech">
              <p id="result-text">「じゃーんけーん…ぽん！」好きなタイミングであなたの手を選んで！</p>
            </div>
            <div class="npc-hand-emoji" id="npc-hand-emoji" aria-label="モラモラの手">✊</div>
          </div>
        </div>
      </section>

      <section class="controls">
        <div class="hand-buttons" role="group" aria-label="あなたの手">
          <button class="hand-btn" type="button" data-hand="rock" aria-label="グー（石）">
            <span class="icon">✊</span>
            <span class="label">グー</span>
          </button>
          <button class="hand-btn" type="button" data-hand="scissors" aria-label="チョキ（はさみ）">
            <span class="icon">✌️</span>
            <span class="label">チョキ</span>
          </button>
          <button class="hand-btn" type="button" data-hand="paper" aria-label="パー（紙）">
            <span class="icon">🖐️</span>
            <span class="label">パー</span>
          </button>
        </div>

        <div class="result-bar" id="result-bar">
          <div class="you">
            あなた：<strong id="user-hand-label">未選択</strong>
          </div>
          <div class="vs">VS</div>
          <div class="mora">
            モラモラはとこちゃん：<strong id="final-hand-label">???</strong>
          </div>
        </div>

        <div class="actions">
          <button class="secondary" id="restart-btn" type="button">もう一度あそぶ</button>
          <a class="secondary share-btn" id="share-btn" target="_blank" rel="noopener" href="https://twitter.com/intent/tweet?text=%E3%83%A2%E3%83%A9%E3%83%A2%E3%83%A9%E3%81%AF%E3%81%A8%E3%81%93%E3%81%A1%E3%82%83%E3%82%93%E3%81%A8%E3%81%98%E3%82%83%E3%82%93%E3%81%91%E3%82%93%E3%81%97%E3%81%9F%E3%82%88%EF%BC%81+-+%E3%83%A2%E3%83%A9%E3%83%A2%E3%83%A9%E3%81%98%E3%82%83%E3%82%93%E3%81%91%E3%82%93%EF%BC%81+%3A+&url=https://nanikasheila.github.io/moramora_janken/"><span class="share-icon">𝕏</span><span class="share-text">シェア</span></a>
        </div>
      </section>
    </main>
    <footer class="footer">
      <p>Created : <a href="https://x.com/nanika_sheila">@nanika_sheila</a> / Character Rights <a href="https://x.com/MolaToko">@MolaToko</a></p>
      <p><a href="https://github.com/nanikasheila/moramora_janken" target="_blank" rel="noopener"><svg height="16" width="16" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" style="vertical-align:text-bottom"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82a7.64 7.64 0 0 1 2-.27c.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg> GitHub</a></p>
    </footer>
  </div>

  <script src="js/config.js" defer></script>
  <script src="js/game-logic.js" defer></script>
  <script src="js/app.js" defer></script>
</body>
</html>
